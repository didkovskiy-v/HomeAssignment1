/*
  * Vatslav Didkovskiy
  * st142215@student.spbu.ru
  * HomeAssignment3
  */
#include "Neutral.h"
#include <gtest/gtest.h>
#include <sstream>

TEST(NeutralTest, DefaultConstructor) {
    Neutral n;
    EXPECT_EQ(n.GetType(), "Neutral");
}

TEST(NeutralTest, ParameterizedConstructor) {
    Neutral n("Wheeljack", 6, 95, 30, 18, "Science Guild", true);
    EXPECT_EQ(n.GetAffiliation(), "Science Guild");
    EXPECT_TRUE(n.GetMercenary());
}

TEST(NeutralTest, DirectCall) {
    Neutral n("Ratchet", 8, 120, 25, 20, "Medic");
    n.Negotiate();
    n.Transform();
}

TEST(NeutralTest, ViaBasePointer) {
    Neutral n("WJ", 6, 95, 30, 18, "Tech");
    Transformer* p = &n;
    p->Transform();
}

TEST(NeutralTest, StreamOperator) {
    Neutral n("Ratchet", 8, 120, 25, 20, "None");
    std::ostringstream oss;
    oss << n;
    EXPECT_FALSE(oss.str().empty());
}
